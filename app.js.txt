import { createClient } from "https://esm.sh/@supabase/supabase-js";

const SUPABASE_URL = "COLE_AQUI";         // Pegue no Supabase → Settings → API → Project URL
const SUPABASE_ANON_KEY = "COLE_AQUI";    // Pegue no Supabase → Settings → API → anon public key

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

// Cadastro
async function cadastrar() {
  const email = document.getElementById("email").value;
  const senha = document.getElementById("senha").value;

  const { data, error } = await supabase.auth.signUp({ email, password: senha });
  if (error) return alert(error.message);
  alert("Cadastro realizado! Verifique seu email.");
}

// Login
async function logar() {
  const email = document.getElementById("email").value;
  const senha = document.getElementById("senha").value;

  const { data, error } = await supabase.auth.signInWithPassword({ email, password: senha });
  if (error) return alert(error.message);
  alert("Bem-vindo! Usuário logado.");
}

// Logout
async function sair() {
  const { error } = await supabase.auth.signOut();
  if (error) return alert(error.message);
  alert("Logout realizado com sucesso!");
}

// Tornar funções acessíveis no HTML
window.cadastrar = cadastrar;
window.logar = logar;
window.sair = sair;
